<template>
  <lightning-card title="Offices List" icon-name="custom:custom24">
    <template if:true={offices}>
      <div class="slds-grid slds-gutters slds-m-around_xx-small">
        <div class="slds-col slds-size_1-of-4">
          <h1 class="slds-text-title_bold slds-text-heading_small slds-m-left_small">
            Name
          </h1>
        </div>

        <div class="slds-col slds-size_2-of-4">
          <h1 class="slds-text-title_bold slds-text-heading_small slds-m-left_small">
            Address
          </h1>
        </div>
        
        <div class="slds-col slds-size_1-of-4">
          <h1 class="slds-text-title_bold slds-text-heading_small slds-m-left_small">
            Total Area
          </h1>
        </div>
      </div>

      <template for:each={offices} for:item="office">
        <div
          key={office.id}
          class="slds-grid slds-gutters slds-m-around_xx-small"
        >
          <div class="slds-col slds-size_1-of-4 slds-m-vertical_xxx-small">
            <a office_id={office.id} onclick={navigateToRecordViewPage}>
              {office.fields.Name.value}
            </a>
          </div>

          <div class="slds-col slds-size_2-of-4 slds-m-vertical_xxx-small">
            {office.fields.Address__c.value}
          </div>

          <div class="slds-col slds-size_1-of-4 slds-m-vertical_xxx-small">
            {office.totalArea}
          </div>
        </div>
      </template>

      <template if:false={isOnePage}>
        <div class="slds-m-vertical_medium slds-align_absolute-center">
          <lightning-button-icon
            class="slds-col slds-align_absolute-center"
            icon-name="utility:back"
            alternative-text="Previous"
            title="Previous"
            variant="border-filled"
            onclick={handlePreviousPage}
          ></lightning-button-icon>

          <lightning-button-icon
            class="slds-col slds-align_absolute-center"
            icon-name="utility:forward"
            alternative-text="Next"
            title="Next"
            variant="border-filled"
            onclick={handleNextPage}
          ></lightning-button-icon>
        </div>
      </template>
    </template>

    <template if:true={errorList}>
      <div class="slds-text-color_error">
        An error occurred in the wire adapter "getListUi":<br />{errorOfficesList.body.message}
      </div>
    </template>
    <template if:true={errorApex}>
      <div class="slds-text-color_error">
        An error occurred in the Apex method "getAllOfficeRoomsAreas":<br />{errorRoomsList.body.message}
      </div>
    </template>
  </lightning-card>
</template>
